## BMP格式

bmp格式没有压缩像素格式，存储在文件中时先有文件头、再图像头、后面就都是像素数据了，上下颠倒存储。

用windows自带的mspaint工具保存bmp格式时，可以发现有四种bmp可供选择：
1. 单色: 一个像素只占一位，要么是0，要么是1，所以只能存储黑白信息
2. 16色位图: 一个像素4位，有16种颜色可选
3. 256色位图: 一个像素8位，有256种颜色可选
4. 24位位图: 就是图(1)所示的位图，颜色可有2^24种可选，对于人眼来说完全足够了。

这里为了简单起见，只详细讨论最常见的24位图的bmp格式。

现在来看其文件头和图片格式头的结构:

<table>
  <tr>
    <th colspan="3">文件头信息</th>
  </tr>
  <tr>
    <td>字段</td>
    <td >大小(字节)</td>
    <td>描述</td>
  </tr>
  <tr>
    <td>bfType</td>
    <td>2</td>
    <td>一定为19778，其转化为十六进制为0x4d42，对应的字符串为BM</td>
  </tr>
  <tr>
    <td>bfSize</td>
    <td>4</td>
    <td>文件大小</td>
  </tr>
  <tr>
    <td>bfReserved1</td>
    <td>2</td>
    <td>一般为0 </td>
  </tr>
  <tr>
    <td>bfReserved2</td>
    <td>2</td>
    <td>一般为0 </td>
  </tr>
    <tr>
    <td>bfOffBits</td>
    <td>4</td>
    <td> 从文件开始处到像素数据的偏移，也就是这两个结构体大小之和 </td>
  </tr>
</table>


<table>
  <tr>
    <th colspan="3">结构头信息</th>
  </tr>
  <tr>
    <td>字段</td>
    <td >大小(字节)</td>
    <td>描述</td>
  </tr>
  <tr>
    <td>biSize</td>
    <td>4</td>
    <td>此结构体的大小 </td>
  </tr>
   <tr>
    <td>biWidth</td>
    <td>4</td>
    <td>图像的宽 </td>
  </tr>
     <tr>
    <td>biHeight </td>
    <td>4</td>
    <td>图像的高</td>
  </tr>
  <tr>
    <td>biPlanes  </td>
    <td>2</td>
    <td>图像的帧数，一般为1</td>
  </tr>
  <tr>
    <td>biBitCount   </td>
    <td>2</td>
    <td>一像素所占的位数，一般是24</td>
  </tr>
    <tr>
    <td>biCompression    </td>
    <td>4</td>
    <td>一般为0 </td>
  </tr>
     <tr>
    <td>biSizeImage     </td>
    <td>4</td>
    <td>像素数据所占大小，即上面结构体中文件大小减去偏移(bfSize-bfOffBits) </td>
  </tr>
       <tr>
    <td>biXPelsPerMeter      </td>
    <td>4</td>
    <td> 一般为0 </td>
  </tr>
        <tr>
    <td>biYPelsPerMeter      </td>
    <td>4</td>
    <td> 一般为0 </td>
  </tr>
         <tr>
    <td>biClrUsed        </td>
    <td>4</td>
    <td> 一般为0 </td>
  </tr>
           <tr>
    <td>biClrImportant         </td>
    <td>4</td>
    <td> 一般为0 </td>
  </tr>
</table>

## JPEG格式

1. jpeg是有损压缩格式, 将像素信息用jpeg保存成文件再读取出来，其中某些像素值会有少许变化。在保存时有个质量参数可在[0,100]之间选择，参数越大图片就越保真，但图片的体积也就越大。一般情况下选择70或80就足够了。
2. jpeg没有透明信息。
3. jpeg比较适合用来存储相机拍出来的照片，这类图像用jpeg压缩后的体积比较小。其使用的具体算法核心是离散余弦变换、Huffman编码、算术编码等技术，有兴趣的同学可以在网上找一大堆资料，本文就不详细介绍了。

## PNG格式

1. png是一种无损压缩格式， 压缩大概是用行程编码算法。
2. png可以有透明效果。
3. png比较适合适量图,几何图。 比如本文中出现的这些图都是用png保存，比用joeg保存体积要小。

## 应用场景

jpeg比较适合存储色彩“杂乱”的拍摄图片，png比较适合存储方几何特征比较强的矢量图。

>注意： 图片像素数据加载到内存都是BMP格式加载的；JPEG、PNG要加载到内存需要先解压缩位BMP

>例如：Android的Bitmap对象，存储的就是BMP位图数据（int存放一像素数据，高位到低位对应ARGB）;
